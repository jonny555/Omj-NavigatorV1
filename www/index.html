<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0
    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
       <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
<script type="text/javascript"> function changeText2(){ var userInput = document.getElementById('userInput').value; var lnk = document.getElementById('lnk'); lnk.href = "http://" + userInput; lnk.innerHTML = lnk.href; } </script>
<script src="js/jquery.js"></script>
<script src="js/jquery.mobile-1.2.0.js"></script>
<link rel="stylesheet" href="css/index.css"/>
<script> var cb;

function onBodyLoad() { document.addEventListener("deviceready", onDeviceReady, false); } function onDeviceReady() { cb = window.plugins.childBrowser; }

function ldr() {

cb.showWebPage('http://pchip:8883/oversight/oversight.cgi');

}

</script>
<script> $('a[href^="http"]').live('tap', function(e){ e.preventDefault(); var url = $(this).attr("href"); window.plugins.childBrowser.showWebPage(url, { showNavigationBar: true, showLocationBar: true, showAddressBar: true, showToolBar: true }); }); </script>
<script>
public class IPAddressPreference extends EditTextPreference {

public IPAddressPreference(Context context) {
    super(context);

    getEditText().setInputType(InputType.TYPE_CLASS_PHONE);
    getEditText().setFilters(new InputFilter[] { new InputFilter() {
        @Override
        public CharSequence filter(CharSequence source, int start, int end, android.text.Spanned dest, int dstart, int dend) {
            if (end > start) {
                String destTxt = dest.toString();
                String resultingTxt = destTxt.substring(0, dstart) + source.subSequence(start, end) + destTxt.substring(dend);
                if (!resultingTxt.matches("^\\d{1,3}(\\.(\\d{1,3}(\\.(\\d{1,3}(\\.(\\d{1,3})?)?)?)?)?)?")) {
                    return "";
                } else {
                    String[] splits = resultingTxt.split("\\.");
                    for (int i = 0; i < splits.length; i++) {
                        if (Integer.valueOf(splits[i]) > 255) {
                            return "";
                        }
                    }
                }
            }
            return null;
        }
    }
    });

    getEditText().addTextChangedListener(new TextWatcher() {
        boolean deleting = false;
        int lastCount = 0;

        @Override
        public void afterTextChanged(Editable s) {
            if (!deleting) {
                String working = s.toString();
                String[] split = working.split("\\.");
                String string = split[split.length - 1];
                if (string.length() == 3 || string.equalsIgnoreCase("0")
                        || (string.length() == 2 && Character.getNumericValue(string.charAt(0)) > 1)) {                     
                    s.append('.');
                    return;
                }
            } 
        }

        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            if (lastCount < count) {
                deleting = false;
            } else {
                deleting = true;
            }
        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count, int after) {
            // Nothing happens here
        }
    });
}
</script>
</head>
<body onload='onBodyLoad();'>
<div data-role="page" id="newpage" data-theme="a">
<div data-role="header" data-theme="d">
 <h1>Omj Navigator</h1>
</div><!-- /header -->
<div data-role="content">
<div class="icon"><img align="right" valign="top" SRC="icon.png"></div>
  <div class="content-primary">
			<ul data-role="listview" data-inset="true" data-theme="a" data-dividertheme="d" data-icon="false" class="homelist">
				<li data-role="list-divider">Oversight jukebox</li>
				<li data-icon="false"><a href="" id='lnk'>Enter ip<input type='text' id='userInput' value='pchip:8883/oversight/oversight.cgi' /></a><input type='button' onclick='changeText2()' value='Ok'/>
        <a id="saveButton" href="" data-role="button">Save</a>
    </li>
				<li data-role="list-divider">Webservices</li>
				<li data-icon="false"><a href="https://www.youtube.com">Trailers</a></li>
              <li data-icon="false"><a href="" onclick='ldr();'>Browser</a></li>
<li data-icon="false"><a href="http://trakt.tv/movies/popular">Trakt.tv</a></li>
<li data-icon="false"><a href="http://trailers.apple.com/#section=mostpopular">Apple</a></li>
				<li data-role="list-divider">Oversight Forum</li>
				<li><script language="JavaScript" src="http://feed2js.org//feed2js.php?src=http%3A%2F%2Fwww.networkedmediatank.com%2Fsyndication.php%3Ffid%3D107%26limit%3D3&num=3&utf=y&html=p" charset="UTF-8" type="text/javascript"></li>
		</script>
			</ul>
</div></div>
<div data-role="footer" data-theme="d" data-position="fixed">
 <h1>Omj Navigator app/jonny555</h1>
</div>
    <script type="text/javascript" src="phonegap.js"></script>
        <script type="text/javascript" charset="utf-8" src="childbrowser.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript" charset="utf-8" src="js/applicationPreferences.js"/>
    </body>
</html>
